{"remainingRequest":"H:\\CloudMusic\\Virus_Vue\\node_modules\\babel-loader\\lib\\index.js!H:\\CloudMusic\\Virus_Vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\CloudMusic\\Virus_Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\CloudMusic\\Virus_Vue\\src\\pages\\nowshow\\nowShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\CloudMusic\\Virus_Vue\\src\\pages\\nowshow\\nowShow.vue","mtime":1584120740424},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1584120685483},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1584120684351},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1584120685483},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1584120736925}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      newsList: [],\n      //新闻列表\n      flagKnowedge: false,\n      nowTime: ''\n    };\n  },\n  methods: {\n    //将时间戳转换为多久前\n    formatMsgTime: function formatMsgTime(timespan) {\n      var dateTime = new Date(timespan);\n      var year = dateTime.getFullYear();\n      var month = dateTime.getMonth() + 1;\n      var day = dateTime.getDate();\n      var hour = dateTime.getHours();\n      var minute = dateTime.getMinutes();\n      var second = dateTime.getSeconds();\n      var now = new Date(); //var now_new = Date.parse(now.toDateString());  //typescript转换写法\n\n      var now_new = Date.parse(new Date());\n      var milliseconds = 0;\n      var timeSpanStr;\n      milliseconds = now_new - timespan; //console.log(milliseconds)\n\n      if (milliseconds <= 1000 * 60 * 1) {\n        timeSpanStr = '刚刚';\n      } else if (1000 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60) {\n        timeSpanStr = Math.round(milliseconds / (1000 * 60)) + '分钟前';\n      } else if (1000 * 60 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24) {\n        timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60)) + '小时前';\n      } else if (1000 * 60 * 60 * 24 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24 * 15) {\n        timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60 * 24)) + '天前';\n      } else if (milliseconds > 1000 * 60 * 60 * 24 * 15 && year == now.getFullYear()) {\n        timeSpanStr = month + '-' + day + ' ' + hour + ':' + minute;\n      } else {\n        timeSpanStr = year + '-' + month + '-' + day + ' ' + hour + ':' + minute;\n      }\n\n      return timeSpanStr;\n    },\n    //获取新闻链接\n    getNews: function getNews() {\n      var _this = this;\n\n      this.$http.get('/api/news', {\n        params: {\n          num: 10\n        }\n      }).then(function (res) {\n        //console.log(res.data.results[0].pubDate)\n        res.data.results.forEach(function (item) {\n          var temp = _this.formatMsgTime(item.pubDate);\n\n          item.befor = temp;\n        });\n        _this.newsList = res.data.results;\n        _this.flagKnowedge = true;\n\n        _this.$emit('flagKnow', _this.flagKnowedge);\n      }).catch(function (error) {\n        _this.$notify({\n          type: 'danger',\n          message: '获取新闻失败，刷新重试！'\n        });\n      });\n    }\n  },\n  created: function created() {\n    this.getNews();\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n  computed: {}\n};",{"version":3,"sources":["nowShow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"nowshow\">\r\n\t\t<div class=\"nullDiv\"></div>\r\n\t\t<div class=\"rumorsTitle\">\r\n\t\t\t<i></i>\r\n\t\t\t实时播报\r\n\t\t</div>\r\n\t\t<div class=\"progress_list\">\r\n\t\t\t<van-steps direction=\"vertical\" \r\n\t\t\tclass=\"defineClass\" \r\n\t\t\tinactive-icon=\"stop-circle\" \r\n\t\t\tactive-icon=\"stop-circle\"\r\n\t\t\tactive-color=\"#c0bbbb\">\r\n\t\t\t  <van-step class=\"item2\" v-for=\"(item,index) in newsList\" :key=\"index\">\r\n\t\t\t\t <a :href=\"item.sourceUrl\" style=\"position: absolute;top: 0;left: 0;width: 100%;height: 100%;\"></a>\r\n\t\t\t\t  <div class=\"left_con\">\r\n\t\t\t\t\t  <span>{{item.befor}}</span>\r\n\t\t\t\t\t  <p>{{item.pubDate|dateFormat}}</p>\r\n\t\t\t\t  </div>\r\n\t\t\t\t<div class=\"toptitle\">\r\n\t\t\t\t\t<i v-if=\"index==0\">最新</i>\r\n\t\t\t\t\t{{item.title}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t{{item.summary}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"toolFrom\">\r\n\t\t\t\t\t{{'信息来源： '+item.infoSource}}\r\n\t\t\t\t</div>\r\n\t\t\t  </van-step>\r\n\t\t\t</van-steps>\r\n\t\t</div>\r\n\t\t<div class=\"filter\">\r\n\t\t\t<span>查看更多 ></span>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tnewsList:[],//新闻列表\r\n\t\t\t\tflagKnowedge:false,\r\n\t\t\t\tnowTime:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//将时间戳转换为多久前\r\n\t\t\tformatMsgTime (timespan) {\r\n\t\t\t  var dateTime = new Date(timespan);\r\n\t\t\t  var year = dateTime.getFullYear();\r\n\t\t\t  var month = dateTime.getMonth() + 1;\r\n\t\t\t  var day = dateTime.getDate();\r\n\t\t\t  var hour = dateTime.getHours();\r\n\t\t\t  var minute = dateTime.getMinutes();\r\n\t\t\t  var second = dateTime.getSeconds();\r\n\t\t\t  var now = new Date();\r\n\t\t\t  //var now_new = Date.parse(now.toDateString());  //typescript转换写法\r\n\t\t\t  var now_new = Date.parse(new Date());\r\n\t\t\t  var milliseconds = 0;\r\n\t\t\t  var timeSpanStr;\r\n\t\t\t  milliseconds = now_new - timespan;\r\n\t\t\t\t//console.log(milliseconds)\r\n\t\t\t  if (milliseconds <= 1000 * 60 * 1) {\r\n\t\t\t    timeSpanStr = '刚刚';\r\n\t\t\t  }\r\n\t\t\t  else if (1000 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60) {\r\n\t\t\t    timeSpanStr = Math.round((milliseconds / (1000 * 60))) + '分钟前';\r\n\t\t\t  }\r\n\t\t\t  else if (1000 * 60 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24) {\r\n\t\t\t    timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60)) + '小时前';\r\n\t\t\t  }\r\n\t\t\t  else if (1000 * 60 * 60 * 24 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24 * 15) {\r\n\t\t\t    timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60 * 24)) + '天前';\r\n\t\t\t  }\r\n\t\t\t  else if (milliseconds > 1000 * 60 * 60 * 24 * 15 && year == now.getFullYear()) {\r\n\t\t\t    timeSpanStr = month + '-' + day + ' ' + hour + ':' + minute;\r\n\t\t\t  } else {\r\n\t\t\t    timeSpanStr = year + '-' + month + '-' + day + ' ' + hour + ':' + minute;\r\n\t\t\t  }\r\n\t\t\t  return timeSpanStr;\r\n\t\t\t},\r\n\t\t\t//获取新闻链接\r\n\t\t\tgetNews(){\r\n\t\t\t\tthis.$http.get('/api/news',{params:{num:10}}).then(res=>{\r\n\t\t\t\t\t//console.log(res.data.results[0].pubDate)\r\n\t\t\t\t\tres.data.results.forEach(item=>{\r\n\t\t\t\t\t\tlet temp =this.formatMsgTime(item.pubDate)\r\n\t\t\t\t\t\titem.befor = temp\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.newsList = res.data.results;\r\n\t\t\t\t\tthis.flagKnowedge = true;\r\n\t\t\t\t\tthis.$emit('flagKnow',this.flagKnowedge)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error=>{\r\n\t\t\t\t\tthis.$notify({type:'danger',message:'获取新闻失败，刷新重试！'})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getNews()\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\t\r\n\t\t},\r\n\t\tupdated(){\r\n\t\t},\r\n\t\tcomputed:{},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped=\"scoped\">\r\n\t.nowshow{\r\n\t\twidth: 100%;\r\n\t\tbackground-color:#EFEFEF;\r\n\t\t.nullDiv{\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #f7f7f7;\r\n\t\t\theight: 0.21333rem;\r\n\t\t}\r\n\t\t.rumorsTitle{\r\n\t\t\tpadding:0 0 0 0.41rem;\r\n\t\t\theight: 1.04rem;\r\n\t\t\tcolor:#000;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tline-height: 1.04rem;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-top: 1px solid #ebebeb;\r\n\t\t\tfont-size: 0.427rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\ti{\r\n\t\t\t\twidth: 0.09rem;\r\n\t\t\t\theight: 0.37rem;\r\n\t\t\t\tbackground-color:#4169e2;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmargin-right: 0.2rem;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t.progress_list{\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-top: 0.42666rem;\r\n\t\t\tpadding-right: 0.42666rem;\r\n\t\t\tvertical-align: top;\r\n\t\t\toverflow: hidden;\r\n\t\t\t.defineClass{\r\n\t\t\t\tpadding-left: 30%!important;\r\n\t\t\t\tbackground-color: #efefef;\r\n\t\t\t\t.item2{\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\tborder-radius: 0.08rem;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tpadding:0.26666rem;\r\n\t\t\t\t\tmargin-bottom: 0.42666rem;\r\n\t\t\t\t\t&:before{\r\n\t\t\t\t\t\tbackground-color: #ebebeb!important;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.toptitle{\r\n\t\t\t\t\t\tcolor:#333;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tfont-size: 0.42666rem;\r\n\t\t\t\t\t\tline-height: 0.61333rem;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\ti{\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\twidth: 0.74666rem;\r\n\t\t\t\t\t\t\theight: 0.42666rem;\r\n\t\t\t\t\t\t\tmargin-right: 0.16rem;\r\n\t\t\t\t\t\t\tcolor:#fff;\r\n\t\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\t\t\tline-height: 0.42666rem;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tvertical-align: 0.05333rem;\r\n\t\t\t\t\t\t\tbackground-color: #f74c31;\r\n\t\t\t\t\t\t\tborder-radius: 0.05333rem;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.content{\r\n\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\tmargin-top: 0.10666rem;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\tcolor:#999;\r\n\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\tline-height: 0.42666rem;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\tword-break: break-all;\r\n\t\t\t\t\t\t-webkit-line-clamp: 5;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.toolFrom{\r\n\t\t\t\t\t\tright: 0.42666rem;\r\n\t\t\t\t\t\tbottom: 0.32rem;\r\n\t\t\t\t\t\tmargin-top: 0.10666rem;\r\n\t\t\t\t\t\tcolor:#999;\r\n\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.left_con{\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft: -2.66666rem;\r\n\t\t\t\t\t\ttop: 0.21333rem;\r\n\t\t\t\t\t\twidth: 2.66666rem;\r\n\t\t\t\t\t\tspan{\r\n\t\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\tmargin-right: 0.85333rem;\r\n\t\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tp{\r\n\t\t\t\t\t\t\tfont-size: 0.26666rem;\r\n\t\t\t\t\t\t\tcolor:rgb(153,153,153);\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\t\tmargin-right: 0.85333rem;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.filter{\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: flex-end;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 3.38666rem;\r\n\t\t\tmargin-top: -2.66666rem!important;\r\n\t\t\tcolor:#4169e2;\r\n\t\t\tfont-size: 0.37333rem;\r\n\t\t\tline-height: 0.69333rem;\r\n\t\t\tbackground-image: url(https://assets.dxycdn.com/gitrepo/ncov-mobile/dist/static/bg-write@2x.ceaac07a.png);\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\tspan{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 0.53333rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/pages/nowshow"}]}