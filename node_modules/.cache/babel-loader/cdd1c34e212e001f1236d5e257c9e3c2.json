{"remainingRequest":"H:\\CloudMusic\\Virus_Vue\\node_modules\\babel-loader\\lib\\index.js!H:\\CloudMusic\\Virus_Vue\\src\\main.js","dependencies":[{"path":"H:\\CloudMusic\\Virus_Vue\\src\\main.js","mtime":1584120740398},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1584120685483},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1584120684351}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es7.string.pad-start\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"H:\\\\CloudMusic\\\\Virus_Vue\\\\node_modules\\\\core-js\\\\modules\\\\es6.array.iterator.js\";\nimport \"H:\\\\CloudMusic\\\\Virus_Vue\\\\node_modules\\\\core-js\\\\modules\\\\es6.promise.js\";\nimport \"H:\\\\CloudMusic\\\\Virus_Vue\\\\node_modules\\\\core-js\\\\modules\\\\es6.object.assign.js\";\nimport \"H:\\\\CloudMusic\\\\Virus_Vue\\\\node_modules\\\\core-js\\\\modules\\\\es7.promise.finally.js\";\nimport Vue from 'vue';\nimport App from \"./App.vue\";\nimport axios from 'axios';\nimport echarts from 'echarts'; //import './plugins/element'\n\nimport \"./plugins/vant\";\nimport router from \"./router\";\nimport VueAwesomeSwiper from 'vue-awesome-swiper'; // require styles\n\nimport 'swiper/css/swiper.css';\nVue.use(VueAwesomeSwiper\n/* { default global options } */\n);\nimport 'vant/lib/index.css'; //import 'element-ui/lib/theme-chalk/index.css';\n\naxios.defaults.baseURL = \"https://lab.isaaclin.cn/nCoV\"; //配置数据请求的基础地址\n\nVue.config.productionTip = false;\nVue.prototype.$http = axios;\nVue.prototype.$echarts = echarts; //时间过滤器\n\nVue.filter('dateFormat', function (originVal) {\n  var dt = new Date(originVal);\n  var y = dt.getFullYear();\n  var m = (dt.getMonth() + 1 + \"\").padStart(2, '0');\n  var d = (dt.getDate() + \"\").padStart(2, '0');\n  var hh = (dt.getHours() + \"\").padStart(2, '0');\n  var mm = (dt.getMinutes() + \"\").padStart(2, '0');\n  var ss = (dt.getSeconds() + \"\").padStart(2, '0');\n  return \"\".concat(y, \"-\").concat(m, \"-\").concat(d, \" \").concat(hh, \":\").concat(mm, \":\").concat(ss);\n});\n!function (win, lib) {\n  var timer,\n      doc = win.document,\n      docElem = doc.documentElement,\n      vpMeta = doc.querySelector('meta[name=\"viewport\"]'),\n      flexMeta = doc.querySelector('meta[name=\"flexible\"]'),\n      dpr = 0,\n      scale = 0,\n      flexible = lib.flexible || (lib.flexible = {}); // 设置了 viewport meta\n\n  if (vpMeta) {\n    console.warn(\"将根据已有的meta标签来设置缩放比例\");\n    var initial = vpMeta.getAttribute(\"content\").match(/initial\\-scale=([\\d\\.]+)/);\n\n    if (initial) {\n      scale = parseFloat(initial[1]); // 已设置的 initialScale\n\n      dpr = parseInt(1 / scale); // 设备像素比 devicePixelRatio\n    }\n  } // 设置了 flexible Meta\n  else if (flexMeta) {\n      var flexMetaContent = flexMeta.getAttribute(\"content\");\n\n      if (flexMetaContent) {\n        var initial = flexMetaContent.match(/initial\\-dpr=([\\d\\.]+)/),\n            maximum = flexMetaContent.match(/maximum\\-dpr=([\\d\\.]+)/);\n\n        if (initial) {\n          dpr = parseFloat(initial[1]);\n          scale = parseFloat((1 / dpr).toFixed(2));\n        }\n\n        if (maximum) {\n          dpr = parseFloat(maximum[1]);\n          scale = parseFloat((1 / dpr).toFixed(2));\n        }\n      }\n    } // viewport 或 flexible\n  // meta 均未设置\n\n\n  if (!dpr && !scale) {\n    // QST\n    // 这里的 第一句有什么用 ?\n    // 和 Android 有毛关系 ?\n    var u = (win.navigator.appVersion.match(/android/gi), win.navigator.appVersion.match(/iphone/gi)),\n        _dpr = win.devicePixelRatio; // 所以这里似乎是将所有 Android 设备都设置为 1 了\n\n    dpr = u ? _dpr >= 3 && (!dpr || dpr >= 3) ? 3 : _dpr >= 2 && (!dpr || dpr >= 2) ? 2 : 1 : 1;\n    scale = 1 / dpr;\n  }\n\n  docElem.setAttribute(\"data-dpr\", dpr); // 插入 viewport meta\n\n  if (!vpMeta) {\n    vpMeta = doc.createElement(\"meta\");\n    vpMeta.setAttribute(\"name\", \"viewport\");\n    vpMeta.setAttribute(\"content\", \"initial-scale=\" + scale + \", maximum-scale=\" + scale + \", minimum-scale=\" + scale + \", user-scalable=no\");\n\n    if (docElem.firstElementChild) {\n      docElem.firstElementChild.appendChild(vpMeta);\n    } else {\n      var div = doc.createElement(\"div\");\n      div.appendChild(vpMeta);\n      doc.write(div.innerHTML);\n    }\n  }\n\n  function setFontSize() {\n    var winWidth = docElem.getBoundingClientRect().width;\n\n    if (winWidth / dpr > 540) {\n      winWidth = 540 * dpr;\n    } // 根节点 fontSize 根据宽度决定\n\n\n    var baseSize = winWidth / 10;\n    docElem.style.fontSize = baseSize + \"px\";\n    flexible.rem = win.rem = baseSize;\n  } // 调整窗口时重置\n\n\n  win.addEventListener(\"resize\", function () {\n    clearTimeout(timer);\n    timer = setTimeout(setFontSize, 300);\n  }, false); // 这一段是我自己加的\n  // orientationchange 时也需要重算下吧\n\n  win.addEventListener(\"orientationchange\", function () {\n    clearTimeout(timer);\n    timer = setTimeout(setFontSize, 300);\n  }, false); // pageshow\n  // keyword: 倒退 缓存相关\n\n  win.addEventListener(\"pageshow\", function (e) {\n    if (e.persisted) {\n      clearTimeout(timer);\n      timer = setTimeout(setFontSize, 300);\n    }\n  }, false); // 设置基准字体\n\n  if (\"complete\" === doc.readyState) {\n    doc.body.style.fontSize = 12 * dpr + \"px\";\n  } else {\n    doc.addEventListener(\"DOMContentLoaded\", function () {\n      doc.body.style.fontSize = 12 * dpr + \"px\";\n    }, false);\n  }\n\n  setFontSize();\n  flexible.dpr = win.dpr = dpr;\n  flexible.refreshRem = setFontSize;\n\n  flexible.rem2px = function (d) {\n    var c = parseFloat(d) * this.rem;\n\n    if (\"string\" == typeof d && d.match(/rem$/)) {\n      c += \"px\";\n    }\n\n    return c;\n  };\n\n  flexible.px2rem = function (d) {\n    var c = parseFloat(d) / this.rem;\n\n    if (\"string\" == typeof d && d.match(/px$/)) {\n      c += \"rem\";\n    }\n\n    return c;\n  };\n}(window, window.lib || (window.lib = {}));\nnew Vue({\n  router: router,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["H:\\CloudMusic\\Virus_Vue\\src\\main.js"],"names":["Vue","App","axios","echarts","router","VueAwesomeSwiper","use","defaults","baseURL","config","productionTip","prototype","$http","$echarts","filter","originVal","dt","Date","y","getFullYear","m","getMonth","padStart","d","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","win","lib","timer","doc","document","docElem","documentElement","vpMeta","querySelector","flexMeta","dpr","scale","flexible","console","warn","initial","getAttribute","match","parseFloat","parseInt","flexMetaContent","maximum","toFixed","u","navigator","appVersion","_dpr","devicePixelRatio","setAttribute","createElement","firstElementChild","appendChild","div","write","innerHTML","setFontSize","winWidth","getBoundingClientRect","width","baseSize","style","fontSize","rem","addEventListener","clearTimeout","setTimeout","e","persisted","readyState","body","refreshRem","rem2px","c","px2rem","window","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport axios from 'axios'\r\nimport echarts from 'echarts'\r\n//import './plugins/element'\r\nimport './plugins/vant'\r\nimport router from './router';\r\nimport VueAwesomeSwiper from 'vue-awesome-swiper'\r\n\r\n// require styles\r\nimport 'swiper/css/swiper.css'\r\n\r\nVue.use(VueAwesomeSwiper, /* { default global options } */)\r\nimport 'vant/lib/index.css';\r\n//import 'element-ui/lib/theme-chalk/index.css';\r\naxios.defaults.baseURL = \"https://lab.isaaclin.cn/nCoV\";//配置数据请求的基础地址\r\nVue.config.productionTip = false\r\nVue.prototype.$http = axios;\r\nVue.prototype.$echarts = echarts;\r\n//时间过滤器\r\nVue.filter('dateFormat',function(originVal){\r\n  const dt = new Date(originVal)\r\n  const y = dt.getFullYear();\r\n  const m = (dt.getMonth()+1+\"\").padStart(2,'0')\r\n  const d = (dt.getDate()+\"\").padStart(2,'0')\r\n  const hh = (dt.getHours()+\"\").padStart(2,'0')\r\n  const mm = (dt.getMinutes()+\"\").padStart(2,'0')\r\n  const ss = (dt.getSeconds()+\"\").padStart(2,'0')\r\n  return `${y}-${m}-${d} ${hh}:${mm}:${ss}`\r\n})\r\n\r\n!function(win, lib) {\r\n    var timer,\r\n        doc     = win.document,\r\n        docElem = doc.documentElement,\r\n\r\n        vpMeta   = doc.querySelector('meta[name=\"viewport\"]'),\r\n        flexMeta = doc.querySelector('meta[name=\"flexible\"]'),\r\n \r\n        dpr   = 0,\r\n        scale = 0,\r\n \r\n        flexible = lib.flexible || (lib.flexible = {});\r\n \r\n    // 设置了 viewport meta\r\n    if (vpMeta) {\r\n \r\n        console.warn(\"将根据已有的meta标签来设置缩放比例\");\r\n        var initial = vpMeta.getAttribute(\"content\").match(/initial\\-scale=([\\d\\.]+)/);\r\n \r\n        if (initial) {\r\n            scale = parseFloat(initial[1]); // 已设置的 initialScale\r\n            dpr = parseInt(1 / scale);      // 设备像素比 devicePixelRatio\r\n        }\r\n \r\n    }\r\n    // 设置了 flexible Meta\r\n    else if (flexMeta) {\r\n        var flexMetaContent = flexMeta.getAttribute(\"content\");\r\n        if (flexMetaContent) {\r\n \r\n            var initial = flexMetaContent.match(/initial\\-dpr=([\\d\\.]+)/),\r\n                maximum = flexMetaContent.match(/maximum\\-dpr=([\\d\\.]+)/);\r\n \r\n            if (initial) {\r\n                dpr = parseFloat(initial[1]);\r\n                scale = parseFloat((1 / dpr).toFixed(2));\r\n            }\r\n \r\n            if (maximum) {\r\n                dpr = parseFloat(maximum[1]);\r\n                scale = parseFloat((1 / dpr).toFixed(2));\r\n            }\r\n        }\r\n    }\r\n \r\n    // viewport 或 flexible\r\n    // meta 均未设置\r\n    if (!dpr && !scale) {\r\n        // QST\r\n        // 这里的 第一句有什么用 ?\r\n        // 和 Android 有毛关系 ?\r\n        var u = (win.navigator.appVersion.match(/android/gi), win.navigator.appVersion.match(/iphone/gi)),\r\n            _dpr = win.devicePixelRatio;\r\n \r\n        // 所以这里似乎是将所有 Android 设备都设置为 1 了\r\n        dpr = u ? ( (_dpr >= 3 && (!dpr || dpr >= 3))\r\n                        ? 3\r\n                        : (_dpr >= 2 && (!dpr || dpr >= 2))\r\n                            ? 2\r\n                            : 1\r\n                  )\r\n                : 1;\r\n \r\n        scale = 1 / dpr;\r\n    }\r\n \r\n    docElem.setAttribute(\"data-dpr\", dpr);\r\n \r\n    // 插入 viewport meta\r\n    if (!vpMeta) {\r\n        vpMeta = doc.createElement(\"meta\");\r\n         \r\n        vpMeta.setAttribute(\"name\", \"viewport\");\r\n        vpMeta.setAttribute(\"content\",\r\n            \"initial-scale=\" + scale + \", maximum-scale=\" + scale + \", minimum-scale=\" + scale + \", user-scalable=no\");\r\n \r\n        if (docElem.firstElementChild) {\r\n            docElem.firstElementChild.appendChild(vpMeta)\r\n        } else {\r\n            var div = doc.createElement(\"div\");\r\n            div.appendChild(vpMeta);\r\n            doc.write(div.innerHTML);\r\n        }\r\n    }\r\n \r\n    function setFontSize() {\r\n        var winWidth = docElem.getBoundingClientRect().width;\r\n \r\n        if (winWidth / dpr > 540) {\r\n            (winWidth = 540 * dpr);\r\n        }\r\n \r\n        // 根节点 fontSize 根据宽度决定\r\n        var baseSize = winWidth / 10;\r\n \r\n        docElem.style.fontSize = baseSize + \"px\";\r\n        flexible.rem = win.rem = baseSize;\r\n    }\r\n \r\n    // 调整窗口时重置\r\n    win.addEventListener(\"resize\", function() {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(setFontSize, 300);\r\n    }, false);\r\n \r\n     \r\n    // 这一段是我自己加的\r\n    // orientationchange 时也需要重算下吧\r\n    win.addEventListener(\"orientationchange\", function() {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(setFontSize, 300);\r\n    }, false);\r\n \r\n \r\n    // pageshow\r\n    // keyword: 倒退 缓存相关\r\n    win.addEventListener(\"pageshow\", function(e) {\r\n        if (e.persisted) {\r\n            clearTimeout(timer);\r\n            timer = setTimeout(setFontSize, 300);\r\n        }\r\n    }, false);\r\n \r\n    // 设置基准字体\r\n    if (\"complete\" === doc.readyState) {\r\n        doc.body.style.fontSize = 12 * dpr + \"px\";\r\n    } else {\r\n        doc.addEventListener(\"DOMContentLoaded\", function() {\r\n            doc.body.style.fontSize = 12 * dpr + \"px\";\r\n        }, false);\r\n    }\r\n  \r\n    setFontSize();\r\n \r\n    flexible.dpr = win.dpr = dpr;\r\n \r\n    flexible.refreshRem = setFontSize;\r\n \r\n    flexible.rem2px = function(d) {\r\n        var c = parseFloat(d) * this.rem;\r\n        if (\"string\" == typeof d && d.match(/rem$/)) {\r\n            c += \"px\";\r\n        }\r\n        return c;\r\n    };\r\n \r\n    flexible.px2rem = function(d) {\r\n        var c = parseFloat(d) / this.rem;\r\n         \r\n        if (\"string\" == typeof d && d.match(/px$/)) {\r\n            c += \"rem\";\r\n        }\r\n        return c;\r\n    }\r\n}(window, window.lib || (window.lib = {}));\r\nnew Vue({\r\n  router,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"]}]}