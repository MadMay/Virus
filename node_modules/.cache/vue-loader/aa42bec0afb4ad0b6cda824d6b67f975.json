{"remainingRequest":"H:\\CloudMusic\\Virus_Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\CloudMusic\\Virus_Vue\\src\\pages\\nowshow\\nowShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\CloudMusic\\Virus_Vue\\src\\pages\\nowshow\\nowShow.vue","mtime":1584120740424},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1584120684351},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1584120685483},{"path":"H:\\CloudMusic\\Virus_Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1584120736925}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\tnewsList:[],//新闻列表\n\t\t\tflagKnowedge:false,\n\t\t\tnowTime:''\n\t\t}\n\t},\n\tmethods:{\n\t\t//将时间戳转换为多久前\n\t\tformatMsgTime (timespan) {\n\t\t  var dateTime = new Date(timespan);\n\t\t  var year = dateTime.getFullYear();\n\t\t  var month = dateTime.getMonth() + 1;\n\t\t  var day = dateTime.getDate();\n\t\t  var hour = dateTime.getHours();\n\t\t  var minute = dateTime.getMinutes();\n\t\t  var second = dateTime.getSeconds();\n\t\t  var now = new Date();\n\t\t  //var now_new = Date.parse(now.toDateString());  //typescript转换写法\n\t\t  var now_new = Date.parse(new Date());\n\t\t  var milliseconds = 0;\n\t\t  var timeSpanStr;\n\t\t  milliseconds = now_new - timespan;\n\t\t\t//console.log(milliseconds)\n\t\t  if (milliseconds <= 1000 * 60 * 1) {\n\t\t    timeSpanStr = '刚刚';\n\t\t  }\n\t\t  else if (1000 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60) {\n\t\t    timeSpanStr = Math.round((milliseconds / (1000 * 60))) + '分钟前';\n\t\t  }\n\t\t  else if (1000 * 60 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24) {\n\t\t    timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60)) + '小时前';\n\t\t  }\n\t\t  else if (1000 * 60 * 60 * 24 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24 * 15) {\n\t\t    timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60 * 24)) + '天前';\n\t\t  }\n\t\t  else if (milliseconds > 1000 * 60 * 60 * 24 * 15 && year == now.getFullYear()) {\n\t\t    timeSpanStr = month + '-' + day + ' ' + hour + ':' + minute;\n\t\t  } else {\n\t\t    timeSpanStr = year + '-' + month + '-' + day + ' ' + hour + ':' + minute;\n\t\t  }\n\t\t  return timeSpanStr;\n\t\t},\n\t\t//获取新闻链接\n\t\tgetNews(){\n\t\t\tthis.$http.get('/api/news',{params:{num:10}}).then(res=>{\n\t\t\t\t//console.log(res.data.results[0].pubDate)\n\t\t\t\tres.data.results.forEach(item=>{\n\t\t\t\t\tlet temp =this.formatMsgTime(item.pubDate)\n\t\t\t\t\titem.befor = temp\n\t\t\t\t})\n\t\t\t\tthis.newsList = res.data.results;\n\t\t\t\tthis.flagKnowedge = true;\n\t\t\t\tthis.$emit('flagKnow',this.flagKnowedge)\n\t\t\t})\n\t\t\t.catch(error=>{\n\t\t\t\tthis.$notify({type:'danger',message:'获取新闻失败，刷新重试！'})\n\t\t\t})\n\t\t}\n\t},\n\tcreated(){\n\t\tthis.getNews()\n\t},\n\tmounted(){\n\t\t\n\t},\n\tupdated(){\n\t},\n\tcomputed:{},\n}\n",{"version":3,"sources":["nowShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"nowShow.vue","sourceRoot":"src/pages/nowshow","sourcesContent":["<template>\r\n\t<div class=\"nowshow\">\r\n\t\t<div class=\"nullDiv\"></div>\r\n\t\t<div class=\"rumorsTitle\">\r\n\t\t\t<i></i>\r\n\t\t\t实时播报\r\n\t\t</div>\r\n\t\t<div class=\"progress_list\">\r\n\t\t\t<van-steps direction=\"vertical\" \r\n\t\t\tclass=\"defineClass\" \r\n\t\t\tinactive-icon=\"stop-circle\" \r\n\t\t\tactive-icon=\"stop-circle\"\r\n\t\t\tactive-color=\"#c0bbbb\">\r\n\t\t\t  <van-step class=\"item2\" v-for=\"(item,index) in newsList\" :key=\"index\">\r\n\t\t\t\t <a :href=\"item.sourceUrl\" style=\"position: absolute;top: 0;left: 0;width: 100%;height: 100%;\"></a>\r\n\t\t\t\t  <div class=\"left_con\">\r\n\t\t\t\t\t  <span>{{item.befor}}</span>\r\n\t\t\t\t\t  <p>{{item.pubDate|dateFormat}}</p>\r\n\t\t\t\t  </div>\r\n\t\t\t\t<div class=\"toptitle\">\r\n\t\t\t\t\t<i v-if=\"index==0\">最新</i>\r\n\t\t\t\t\t{{item.title}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t{{item.summary}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"toolFrom\">\r\n\t\t\t\t\t{{'信息来源： '+item.infoSource}}\r\n\t\t\t\t</div>\r\n\t\t\t  </van-step>\r\n\t\t\t</van-steps>\r\n\t\t</div>\r\n\t\t<div class=\"filter\">\r\n\t\t\t<span>查看更多 ></span>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tnewsList:[],//新闻列表\r\n\t\t\t\tflagKnowedge:false,\r\n\t\t\t\tnowTime:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//将时间戳转换为多久前\r\n\t\t\tformatMsgTime (timespan) {\r\n\t\t\t  var dateTime = new Date(timespan);\r\n\t\t\t  var year = dateTime.getFullYear();\r\n\t\t\t  var month = dateTime.getMonth() + 1;\r\n\t\t\t  var day = dateTime.getDate();\r\n\t\t\t  var hour = dateTime.getHours();\r\n\t\t\t  var minute = dateTime.getMinutes();\r\n\t\t\t  var second = dateTime.getSeconds();\r\n\t\t\t  var now = new Date();\r\n\t\t\t  //var now_new = Date.parse(now.toDateString());  //typescript转换写法\r\n\t\t\t  var now_new = Date.parse(new Date());\r\n\t\t\t  var milliseconds = 0;\r\n\t\t\t  var timeSpanStr;\r\n\t\t\t  milliseconds = now_new - timespan;\r\n\t\t\t\t//console.log(milliseconds)\r\n\t\t\t  if (milliseconds <= 1000 * 60 * 1) {\r\n\t\t\t    timeSpanStr = '刚刚';\r\n\t\t\t  }\r\n\t\t\t  else if (1000 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60) {\r\n\t\t\t    timeSpanStr = Math.round((milliseconds / (1000 * 60))) + '分钟前';\r\n\t\t\t  }\r\n\t\t\t  else if (1000 * 60 * 60 * 1 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24) {\r\n\t\t\t    timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60)) + '小时前';\r\n\t\t\t  }\r\n\t\t\t  else if (1000 * 60 * 60 * 24 < milliseconds && milliseconds <= 1000 * 60 * 60 * 24 * 15) {\r\n\t\t\t    timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60 * 24)) + '天前';\r\n\t\t\t  }\r\n\t\t\t  else if (milliseconds > 1000 * 60 * 60 * 24 * 15 && year == now.getFullYear()) {\r\n\t\t\t    timeSpanStr = month + '-' + day + ' ' + hour + ':' + minute;\r\n\t\t\t  } else {\r\n\t\t\t    timeSpanStr = year + '-' + month + '-' + day + ' ' + hour + ':' + minute;\r\n\t\t\t  }\r\n\t\t\t  return timeSpanStr;\r\n\t\t\t},\r\n\t\t\t//获取新闻链接\r\n\t\t\tgetNews(){\r\n\t\t\t\tthis.$http.get('/api/news',{params:{num:10}}).then(res=>{\r\n\t\t\t\t\t//console.log(res.data.results[0].pubDate)\r\n\t\t\t\t\tres.data.results.forEach(item=>{\r\n\t\t\t\t\t\tlet temp =this.formatMsgTime(item.pubDate)\r\n\t\t\t\t\t\titem.befor = temp\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.newsList = res.data.results;\r\n\t\t\t\t\tthis.flagKnowedge = true;\r\n\t\t\t\t\tthis.$emit('flagKnow',this.flagKnowedge)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error=>{\r\n\t\t\t\t\tthis.$notify({type:'danger',message:'获取新闻失败，刷新重试！'})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getNews()\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\t\r\n\t\t},\r\n\t\tupdated(){\r\n\t\t},\r\n\t\tcomputed:{},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped=\"scoped\">\r\n\t.nowshow{\r\n\t\twidth: 100%;\r\n\t\tbackground-color:#EFEFEF;\r\n\t\t.nullDiv{\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #f7f7f7;\r\n\t\t\theight: 0.21333rem;\r\n\t\t}\r\n\t\t.rumorsTitle{\r\n\t\t\tpadding:0 0 0 0.41rem;\r\n\t\t\theight: 1.04rem;\r\n\t\t\tcolor:#000;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tline-height: 1.04rem;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-top: 1px solid #ebebeb;\r\n\t\t\tfont-size: 0.427rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\ti{\r\n\t\t\t\twidth: 0.09rem;\r\n\t\t\t\theight: 0.37rem;\r\n\t\t\t\tbackground-color:#4169e2;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmargin-right: 0.2rem;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t.progress_list{\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-top: 0.42666rem;\r\n\t\t\tpadding-right: 0.42666rem;\r\n\t\t\tvertical-align: top;\r\n\t\t\toverflow: hidden;\r\n\t\t\t.defineClass{\r\n\t\t\t\tpadding-left: 30%!important;\r\n\t\t\t\tbackground-color: #efefef;\r\n\t\t\t\t.item2{\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\tborder-radius: 0.08rem;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tpadding:0.26666rem;\r\n\t\t\t\t\tmargin-bottom: 0.42666rem;\r\n\t\t\t\t\t&:before{\r\n\t\t\t\t\t\tbackground-color: #ebebeb!important;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.toptitle{\r\n\t\t\t\t\t\tcolor:#333;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tfont-size: 0.42666rem;\r\n\t\t\t\t\t\tline-height: 0.61333rem;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\ti{\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\twidth: 0.74666rem;\r\n\t\t\t\t\t\t\theight: 0.42666rem;\r\n\t\t\t\t\t\t\tmargin-right: 0.16rem;\r\n\t\t\t\t\t\t\tcolor:#fff;\r\n\t\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\t\t\tline-height: 0.42666rem;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tvertical-align: 0.05333rem;\r\n\t\t\t\t\t\t\tbackground-color: #f74c31;\r\n\t\t\t\t\t\t\tborder-radius: 0.05333rem;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.content{\r\n\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\tmargin-top: 0.10666rem;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\tcolor:#999;\r\n\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\tline-height: 0.42666rem;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\tword-break: break-all;\r\n\t\t\t\t\t\t-webkit-line-clamp: 5;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.toolFrom{\r\n\t\t\t\t\t\tright: 0.42666rem;\r\n\t\t\t\t\t\tbottom: 0.32rem;\r\n\t\t\t\t\t\tmargin-top: 0.10666rem;\r\n\t\t\t\t\t\tcolor:#999;\r\n\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.left_con{\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft: -2.66666rem;\r\n\t\t\t\t\t\ttop: 0.21333rem;\r\n\t\t\t\t\t\twidth: 2.66666rem;\r\n\t\t\t\t\t\tspan{\r\n\t\t\t\t\t\t\tfont-size: 0.32rem;\r\n\t\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\tmargin-right: 0.85333rem;\r\n\t\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tp{\r\n\t\t\t\t\t\t\tfont-size: 0.26666rem;\r\n\t\t\t\t\t\t\tcolor:rgb(153,153,153);\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\t\tmargin-right: 0.85333rem;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.filter{\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: flex-end;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 3.38666rem;\r\n\t\t\tmargin-top: -2.66666rem!important;\r\n\t\t\tcolor:#4169e2;\r\n\t\t\tfont-size: 0.37333rem;\r\n\t\t\tline-height: 0.69333rem;\r\n\t\t\tbackground-image: url(https://assets.dxycdn.com/gitrepo/ncov-mobile/dist/static/bg-write@2x.ceaac07a.png);\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\tspan{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 0.53333rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}